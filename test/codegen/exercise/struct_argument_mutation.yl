// RUN: compiler %s -o struct_argument_mutation && ./struct_argument_mutation | grep -Plzx '6\n8\n1\n2\n'
struct S {
  x: number,
  y: number,
}

fn foo(mut s: S): unit {
  s.x = 6;
  println(s.x);
}

fn bar(mut s: S): S {
  s.y = 8;
  return s;
}

fn main(): unit {
  let s = S { x: 1, y: 2 };
  foo(s);
  println(bar(s).y);

  println(s.x);
  println(s.y);
}

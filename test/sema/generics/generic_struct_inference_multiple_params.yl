// RUN: compiler %s -res-dump 2>&1 | filecheck %s
struct S<T, U> { x: T, y: T, z: U }
// CHECK-NEXT: StructDecl @({{.*}}) S {S<T, U>}
// CHECK-NEXT:   TypeParamDecl @({{.*}}) T
// CHECK-NEXT:   TypeParamDecl @({{.*}}) U
// CHECK-NEXT:   FieldDecl @({{.*}}) x {T}
// CHECK-NEXT:   FieldDecl @({{.*}}) y {T}
// CHECK-NEXT:   FieldDecl @({{.*}}) z {U}

fn main(): unit {
  let s = S { x: 1, y: 2, z: main };
}
// CHECK: FunctionDecl @({{.*}}) main {() -> unit}
// CHECK-NEXT:   Block
// CHECK-NEXT:     DeclStmt
// CHECK-NEXT:       VarDecl @({{.*}}) s {S<number, () -> unit>}
// CHECK-NEXT:         StructInstantiationExpr {S<number, () -> unit>}
// CHECK-NEXT:           DeclRefExpr @({{.*}}) S {S<number, () -> unit>}
// CHECK-NEXT:           FieldInitStmt @({{.*}}) x
// CHECK-NEXT:             NumberLiteral '1' {number}
// CHECK-NEXT:             | value: 1
// CHECK-NEXT:           FieldInitStmt @({{.*}}) y
// CHECK-NEXT:             NumberLiteral '2' {number}
// CHECK-NEXT:             | value: 2
// CHECK-NEXT:           FieldInitStmt @({{.*}}) z
// CHECK-NEXT:             DeclRefExpr @({{.*}}) main {() -> unit}

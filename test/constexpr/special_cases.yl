// RUN: compiler %s -res-dump 2>&1 | filecheck %s --match-full-lines
fn binaryLhsKnown(y: number): number {
    var x: number = 2.1;

    return (0.0 && y) + (1.0 || x);
}
// CHECK: BinaryOperator '+' {number}
// CHECK-NEXT: | value: 1
// CHECK-NEXT:   GroupingExpr {number}
// CHECK-NEXT:     BinaryOperator '&&' {number}
// CHECK-NEXT:       NumberLiteral '0' {number}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) y {number}
// CHECK-NEXT:   GroupingExpr {number}
// CHECK-NEXT:     BinaryOperator '||' {number}
// CHECK-NEXT:       NumberLiteral '1' {number}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) x {number}

fn unaryNonConst(): number {
    var x: number = 2.1;

    return !x;
}
// CHECK: ReturnStmt
// CHECK-NEXT:   UnaryOperator '!' {number}
// CHECK-NEXT:     DeclRefExpr @({{.*}}) x {number}

fn ret(): number {
    return 1.0;
}

fn call(): void {
    if !ret() {
        return;
    }
}
// CHECK: IfStmt
// CHECK-NEXT:   UnaryOperator '!' {number}
// CHECK-NEXT:     CallExpr {number}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) ret {() -> number}
// CHECK-NEXT:   Block
// CHECK-NEXT:     ReturnStmt

fn lhsKnownRhsNot(y: number): number {
    return 1.0 && y;
}
// CHECK: ReturnStmt
// CHECK-NEXT:   BinaryOperator '&&' {number}
// CHECK-NEXT:     NumberLiteral '1' {number}
// CHECK-NEXT:     DeclRefExpr @({{.*}}) y {number}

fn lhsUnknownRhsFalse(x: number): number {
    return x && 0.0;
}
// CHECK: ReturnStmt
// CHECK-NEXT:   BinaryOperator '&&' {number}
// CHECK-NEXT:     DeclRefExpr @({{.*}}) x {number}
// CHECK-NEXT:     NumberLiteral '0' {number}

fn lhsUnknownRhsTrue(x: number): number {
    return x || 1.0;
}
// CHECK: ReturnStmt
// CHECK-NEXT:   BinaryOperator '||' {number}
// CHECK-NEXT:     DeclRefExpr @({{.*}}) x {number}
// CHECK-NEXT:     NumberLiteral '1' {number}

fn lhsUnknownRhsFalseOr(x: number): number {
    return x || 0.0;
}
// CHECK: ReturnStmt
// CHECK-NEXT:   BinaryOperator '||' {number}
// CHECK-NEXT:     DeclRefExpr @({{.*}}) x {number}
// CHECK-NEXT:     NumberLiteral '0' {number}

fn main(): void {}

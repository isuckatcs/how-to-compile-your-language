// RUN: compiler %s -res-dump 2>&1 | filecheck %s --match-full-lines
fn foo(n: number): void {}

fn prefix(x: number): void {
    foo(!1.0);
    foo(!0.0);
    foo(!x);
    foo(-x);
    foo(-1.23);
}
// CHECK: FunctionDecl: @({{.*}}) prefix:
// CHECK-NEXT:   ParamDecl: @({{.*}}) x:
// CHECK-NEXT:   Block
// CHECK-NEXT:     CallExpr: @({{.*}}) foo
// CHECK-NEXT:       UnaryOperator: '!'
// CHECK-NEXT:       | value: 0
// CHECK-NEXT:         NumberLiteral: '1'
// CHECK-NEXT:     CallExpr: @({{.*}}) foo
// CHECK-NEXT:       UnaryOperator: '!'
// CHECK-NEXT:       | value: 1
// CHECK-NEXT:         NumberLiteral: '0'
// CHECK-NEXT:     CallExpr: @({{.*}}) foo
// CHECK-NEXT:       UnaryOperator: '!'
// CHECK-NEXT:         DeclRefExpr: @({{.*}}) x
// CHECK-NEXT:     CallExpr: @({{.*}}) foo
// CHECK-NEXT:       UnaryOperator: '-'
// CHECK-NEXT:         DeclRefExpr: @({{.*}}) x
// CHECK-NEXT:     CallExpr: @({{.*}}) foo
// CHECK-NEXT:       UnaryOperator: '-'
// CHECK-NEXT:       | value: -1.23
// CHECK-NEXT:         NumberLiteral: '1.23'

fn multiplicative(x: number): void {
    foo(5.0 * 3.0);
    foo(20.0 / 4.0);

    foo(x * 1.0);
    foo(1.0 * x);
}
// CHECK: FunctionDecl: @({{.*}}) multiplicative:
// CHECK-NEXT:   ParamDecl: @({{.*}}) x:
// CHECK-NEXT:   Block
// CHECK-NEXT:     CallExpr: @({{.*}}) foo
// CHECK-NEXT:       BinaryOperator: '*'
// CHECK-NEXT:       | value: 15
// CHECK-NEXT:         NumberLiteral: '5'
// CHECK-NEXT:         NumberLiteral: '3'
// CHECK-NEXT:     CallExpr: @({{.*}}) foo
// CHECK-NEXT:       BinaryOperator: '/'
// CHECK-NEXT:       | value: 5
// CHECK-NEXT:         NumberLiteral: '20'
// CHECK-NEXT:         NumberLiteral: '4'
// CHECK-NEXT:     CallExpr: @({{.*}}) foo
// CHECK-NEXT:       BinaryOperator: '*'
// CHECK-NEXT:         DeclRefExpr: @({{.*}}) x
// CHECK-NEXT:         NumberLiteral: '1'
// CHECK-NEXT:     CallExpr: @({{.*}}) foo
// CHECK-NEXT:       BinaryOperator: '*'
// CHECK-NEXT:         NumberLiteral: '1'
// CHECK-NEXT:         DeclRefExpr: @({{.*}}) x

fn additive(): void {
    foo(5.0 + 3.0);
    foo(20.0 - 4.0);
}
// CHECK: FunctionDecl: @({{.*}}) additive:
// CHECK-NEXT:   Block
// CHECK-NEXT:     CallExpr: @({{.*}}) foo
// CHECK-NEXT:       BinaryOperator: '+'
// CHECK-NEXT:       | value: 8
// CHECK-NEXT:         NumberLiteral: '5'
// CHECK-NEXT:         NumberLiteral: '3'
// CHECK-NEXT:     CallExpr: @({{.*}}) foo
// CHECK-NEXT:       BinaryOperator: '-'
// CHECK-NEXT:       | value: 16
// CHECK-NEXT:         NumberLiteral: '20'
// CHECK-NEXT:         NumberLiteral: '4'

fn comparison(): void {
    foo(2.0 < 5.0);
    foo(5.0 < 2.0);

    foo(2.0 > 5.0);
    foo(5.0 > 2.0);
}
// CHECK: FunctionDecl: @({{.*}}) comparison:
// CHECK-NEXT:   Block
// CHECK-NEXT:     CallExpr: @({{.*}}) foo
// CHECK-NEXT:       BinaryOperator: '<'
// CHECK-NEXT:       | value: 1
// CHECK-NEXT:         NumberLiteral: '2'
// CHECK-NEXT:         NumberLiteral: '5'
// CHECK-NEXT:     CallExpr: @({{.*}}) foo
// CHECK-NEXT:       BinaryOperator: '<'
// CHECK-NEXT:       | value: 0
// CHECK-NEXT:         NumberLiteral: '5'
// CHECK-NEXT:         NumberLiteral: '2'
// CHECK-NEXT:     CallExpr: @({{.*}}) foo
// CHECK-NEXT:       BinaryOperator: '>'
// CHECK-NEXT:       | value: 0
// CHECK-NEXT:         NumberLiteral: '2'
// CHECK-NEXT:         NumberLiteral: '5'
// CHECK-NEXT:     CallExpr: @({{.*}}) foo
// CHECK-NEXT:       BinaryOperator: '>'
// CHECK-NEXT:       | value: 1
// CHECK-NEXT:         NumberLiteral: '5'
// CHECK-NEXT:         NumberLiteral: '2'

fn equality(): void {
    foo(2.0 == 2.0);
    foo(5.0 == 3.0);
}
// CHECK: FunctionDecl: @({{.*}}) equality:
// CHECK-NEXT:   Block
// CHECK-NEXT:     CallExpr: @({{.*}}) foo
// CHECK-NEXT:       BinaryOperator: '=='
// CHECK-NEXT:       | value: 1
// CHECK-NEXT:         NumberLiteral: '2'
// CHECK-NEXT:         NumberLiteral: '2'
// CHECK-NEXT:     CallExpr: @({{.*}}) foo
// CHECK-NEXT:       BinaryOperator: '=='
// CHECK-NEXT:       | value: 0
// CHECK-NEXT:         NumberLiteral: '5'
// CHECK-NEXT:         NumberLiteral: '3'

fn conjunction(): void {
    foo(2.0 && 3.0);
    foo(0.0 && 1.0);
    foo(1.0 && 0.0);
    foo(0.0 && 0.0);
}
// CHECK: FunctionDecl: @({{.*}}) conjunction:
// CHECK-NEXT:   Block
// CHECK-NEXT:     CallExpr: @({{.*}}) foo
// CHECK-NEXT:       BinaryOperator: '&&'
// CHECK-NEXT:       | value: 1
// CHECK-NEXT:         NumberLiteral: '2'
// CHECK-NEXT:         NumberLiteral: '3'
// CHECK-NEXT:     CallExpr: @({{.*}}) foo
// CHECK-NEXT:       BinaryOperator: '&&'
// CHECK-NEXT:       | value: 0
// CHECK-NEXT:         NumberLiteral: '0'
// CHECK-NEXT:         NumberLiteral: '1'
// CHECK-NEXT:     CallExpr: @({{.*}}) foo
// CHECK-NEXT:       BinaryOperator: '&&'
// CHECK-NEXT:       | value: 0
// CHECK-NEXT:         NumberLiteral: '1'
// CHECK-NEXT:         NumberLiteral: '0'
// CHECK-NEXT:     CallExpr: @({{.*}}) foo
// CHECK-NEXT:       BinaryOperator: '&&'
// CHECK-NEXT:       | value: 0
// CHECK-NEXT:         NumberLiteral: '0'
// CHECK-NEXT:         NumberLiteral: '0'

fn disjunction(): void {
    foo(2.0 || 0.0);
    foo(0.0 || 2.0);
    foo(2.0 || 3.0);
    foo(0.0 || 0.0);
}
// CHECK: FunctionDecl: @({{.*}}) disjunction:
// CHECK-NEXT:   Block
// CHECK-NEXT:     CallExpr: @({{.*}}) foo
// CHECK-NEXT:       BinaryOperator: '||'
// CHECK-NEXT:       | value: 1
// CHECK-NEXT:         NumberLiteral: '2'
// CHECK-NEXT:         NumberLiteral: '0'
// CHECK-NEXT:     CallExpr: @({{.*}}) foo
// CHECK-NEXT:       BinaryOperator: '||'
// CHECK-NEXT:       | value: 1
// CHECK-NEXT:         NumberLiteral: '0'
// CHECK-NEXT:         NumberLiteral: '2'
// CHECK-NEXT:     CallExpr: @({{.*}}) foo
// CHECK-NEXT:       BinaryOperator: '||'
// CHECK-NEXT:       | value: 1
// CHECK-NEXT:         NumberLiteral: '2'
// CHECK-NEXT:         NumberLiteral: '3'
// CHECK-NEXT:     CallExpr: @({{.*}}) foo
// CHECK-NEXT:       BinaryOperator: '||'
// CHECK-NEXT:       | value: 0
// CHECK-NEXT:         NumberLiteral: '0'
// CHECK-NEXT:         NumberLiteral: '0'

fn main(): void {}

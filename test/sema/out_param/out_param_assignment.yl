// RUN: compiler %s 2>&1 -res-dump | filecheck %s
struct S {
  x: number
}

fn foo(n: *number, s: *S) {
// CHECK: FunctionDecl @({{.*}}) foo {(*number, *S) -> unit}
// CHECK-NEXT:   ParamDecl @({{.*}}) n {*number}
// CHECK-NEXT:   ParamDecl @({{.*}}) s {*S}
// CHECK-NEXT:   Block

  n = 1;
  // CHECK-NEXT: Assignment
  // CHECK-NEXT:   ImplicitDerefExpr {number}
  // CHECK-NEXT:     DeclRefExpr @({{.*}}) n {*number}
  // CHECK-NEXT:   NumberLiteral '1' {number}
  // CHECK-NEXT:   | value: 1


  s.x = 2;
  // CHECK-NEXT: Assignment
  // CHECK-NEXT:   MemberExpr @({{.*}}) x {number}
  // CHECK-NEXT:     ImplicitDerefExpr {S}
  // CHECK-NEXT:       DeclRefExpr @({{.*}}) s {*S}
  // CHECK-NEXT:   NumberLiteral '2' {number}
  // CHECK-NEXT:   | value: 2
}

fn main() {}

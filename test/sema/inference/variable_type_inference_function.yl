// RUN: compiler %s -res-dump 2>&1 | filecheck %s
fn foo(): unit {}

fn main(): unit { 
  let f;

  f = foo;

  f();
}
// CHECK: FunctionDecl @({{.*}}) main {() -> unit}
// CHECK-NEXT:   Block
// CHECK-NEXT:     DeclStmt
// CHECK-NEXT:       VarDecl @({{.*}}) f {() -> unit}
// CHECK-NEXT:     Assignment
// CHECK-NEXT:       DeclRefExpr @({{.*}}) f {() -> unit}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) foo {() -> unit}
// CHECK-NEXT:     CallExpr {unit}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) f {() -> unit}

// CHECK-NOT: {{.*error.*}}

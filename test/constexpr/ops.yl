// RUN: compiler %s -res-dump 2>&1 | filecheck %s --match-full-lines
fn foo(n: number): void {}

fn prefix(x: number): void {
    foo(!1.0);
    foo(!0.0);
    foo(!x);
    foo(-x);
    foo(-1.23);
}
// CHECK: FunctionDecl @({{.*}}) prefix {(number) -> void}
// CHECK-NEXT:   ParamDecl @({{.*}}) x {number}
// CHECK-NEXT:   Block
// CHECK-NEXT:     CallExpr {void}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) foo {(number) -> void}
// CHECK-NEXT:       UnaryOperator '!' {number}
// CHECK-NEXT:       | value: 0
// CHECK-NEXT:         NumberLiteral '1' {number}
// CHECK-NEXT:     CallExpr {void}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) foo {(number) -> void}
// CHECK-NEXT:       UnaryOperator '!' {number}
// CHECK-NEXT:       | value: 1
// CHECK-NEXT:         NumberLiteral '0' {number}
// CHECK-NEXT:     CallExpr {void}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) foo {(number) -> void}
// CHECK-NEXT:       UnaryOperator '!' {number}
// CHECK-NEXT:         DeclRefExpr @({{.*}}) x {number}
// CHECK-NEXT:     CallExpr {void}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) foo {(number) -> void}
// CHECK-NEXT:       UnaryOperator '-' {number}
// CHECK-NEXT:         DeclRefExpr @({{.*}}) x {number}
// CHECK-NEXT:     CallExpr {void}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) foo {(number) -> void}
// CHECK-NEXT:       UnaryOperator '-' {number}
// CHECK-NEXT:       | value: -1.23
// CHECK-NEXT:         NumberLiteral '1.23' {number}

fn multiplicative(x: number): void {
    foo(5.0 * 3.0);
    foo(20.0 / 4.0);

    foo(x * 1.0);
    foo(1.0 * x);
}
// CHECK: FunctionDecl @({{.*}}) multiplicative {(number) -> void}
// CHECK-NEXT:   ParamDecl @({{.*}}) x {number}
// CHECK-NEXT:   Block
// CHECK-NEXT:     CallExpr {void}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) foo {(number) -> void}
// CHECK-NEXT:       BinaryOperator '*' {number}
// CHECK-NEXT:       | value: 15
// CHECK-NEXT:         NumberLiteral '5' {number}
// CHECK-NEXT:         NumberLiteral '3' {number}
// CHECK-NEXT:     CallExpr {void}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) foo {(number) -> void}
// CHECK-NEXT:       BinaryOperator '/' {number}
// CHECK-NEXT:       | value: 5
// CHECK-NEXT:         NumberLiteral '20' {number}
// CHECK-NEXT:         NumberLiteral '4' {number}
// CHECK-NEXT:     CallExpr {void}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) foo {(number) -> void}
// CHECK-NEXT:       BinaryOperator '*' {number}
// CHECK-NEXT:         DeclRefExpr @({{.*}}) x {number}
// CHECK-NEXT:         NumberLiteral '1' {number}
// CHECK-NEXT:     CallExpr {void}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) foo {(number) -> void}
// CHECK-NEXT:       BinaryOperator '*' {number}
// CHECK-NEXT:         NumberLiteral '1' {number}
// CHECK-NEXT:         DeclRefExpr @({{.*}}) x {number}

fn additive(): void {
    foo(5.0 + 3.0);
    foo(20.0 - 4.0);
}
// CHECK: FunctionDecl @({{.*}}) additive {() -> void}
// CHECK-NEXT:   Block
// CHECK-NEXT:     CallExpr {void}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) foo {(number) -> void}
// CHECK-NEXT:       BinaryOperator '+' {number}
// CHECK-NEXT:       | value: 8
// CHECK-NEXT:         NumberLiteral '5' {number}
// CHECK-NEXT:         NumberLiteral '3' {number}
// CHECK-NEXT:     CallExpr {void}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) foo {(number) -> void}
// CHECK-NEXT:       BinaryOperator '-' {number}
// CHECK-NEXT:       | value: 16
// CHECK-NEXT:         NumberLiteral '20' {number}
// CHECK-NEXT:         NumberLiteral '4' {number}

fn comparison(): void {
    foo(2.0 < 5.0);
    foo(5.0 < 2.0);

    foo(2.0 > 5.0);
    foo(5.0 > 2.0);
}
// CHECK: FunctionDecl @({{.*}}) comparison {() -> void}
// CHECK-NEXT:   Block
// CHECK-NEXT:     CallExpr {void}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) foo {(number) -> void}
// CHECK-NEXT:       BinaryOperator '<' {number}
// CHECK-NEXT:       | value: 1
// CHECK-NEXT:         NumberLiteral '2' {number}
// CHECK-NEXT:         NumberLiteral '5' {number}
// CHECK-NEXT:     CallExpr {void}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) foo {(number) -> void}
// CHECK-NEXT:       BinaryOperator '<' {number}
// CHECK-NEXT:       | value: 0
// CHECK-NEXT:         NumberLiteral '5' {number}
// CHECK-NEXT:         NumberLiteral '2' {number}
// CHECK-NEXT:     CallExpr {void}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) foo {(number) -> void}
// CHECK-NEXT:       BinaryOperator '>' {number}
// CHECK-NEXT:       | value: 0
// CHECK-NEXT:         NumberLiteral '2' {number}
// CHECK-NEXT:         NumberLiteral '5' {number}
// CHECK-NEXT:     CallExpr {void}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) foo {(number) -> void}
// CHECK-NEXT:       BinaryOperator '>' {number}
// CHECK-NEXT:       | value: 1
// CHECK-NEXT:         NumberLiteral '5' {number}
// CHECK-NEXT:         NumberLiteral '2' {number}

fn equality(): void {
    foo(2.0 == 2.0);
    foo(5.0 == 3.0);
}
// CHECK: FunctionDecl @({{.*}}) equality {() -> void}
// CHECK-NEXT:   Block
// CHECK-NEXT:     CallExpr {void}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) foo {(number) -> void}
// CHECK-NEXT:       BinaryOperator '==' {number}
// CHECK-NEXT:       | value: 1
// CHECK-NEXT:         NumberLiteral '2' {number}
// CHECK-NEXT:         NumberLiteral '2' {number}
// CHECK-NEXT:     CallExpr {void}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) foo {(number) -> void}
// CHECK-NEXT:       BinaryOperator '==' {number}
// CHECK-NEXT:       | value: 0
// CHECK-NEXT:         NumberLiteral '5' {number}
// CHECK-NEXT:         NumberLiteral '3' {number}

fn conjunction(): void {
    foo(2.0 && 3.0);
    foo(0.0 && 1.0);
    foo(1.0 && 0.0);
    foo(0.0 && 0.0);
}
// CHECK: FunctionDecl @({{.*}}) conjunction {() -> void}
// CHECK-NEXT:   Block
// CHECK-NEXT:     CallExpr {void}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) foo {(number) -> void}
// CHECK-NEXT:       BinaryOperator '&&' {number}
// CHECK-NEXT:       | value: 1
// CHECK-NEXT:         NumberLiteral '2' {number}
// CHECK-NEXT:         NumberLiteral '3' {number}
// CHECK-NEXT:     CallExpr {void}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) foo {(number) -> void}
// CHECK-NEXT:       BinaryOperator '&&' {number}
// CHECK-NEXT:       | value: 0
// CHECK-NEXT:         NumberLiteral '0' {number}
// CHECK-NEXT:         NumberLiteral '1' {number}
// CHECK-NEXT:     CallExpr {void}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) foo {(number) -> void}
// CHECK-NEXT:       BinaryOperator '&&' {number}
// CHECK-NEXT:       | value: 0
// CHECK-NEXT:         NumberLiteral '1' {number}
// CHECK-NEXT:         NumberLiteral '0' {number}
// CHECK-NEXT:     CallExpr {void}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) foo {(number) -> void}
// CHECK-NEXT:       BinaryOperator '&&' {number}
// CHECK-NEXT:       | value: 0
// CHECK-NEXT:         NumberLiteral '0' {number}
// CHECK-NEXT:         NumberLiteral '0' {number}

fn disjunction(): void {
    foo(2.0 || 0.0);
    foo(0.0 || 2.0);
    foo(2.0 || 3.0);
    foo(0.0 || 0.0);
}
// CHECK: FunctionDecl @({{.*}}) disjunction {() -> void}
// CHECK-NEXT:   Block
// CHECK-NEXT:     CallExpr {void}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) foo {(number) -> void}
// CHECK-NEXT:       BinaryOperator '||' {number}
// CHECK-NEXT:       | value: 1
// CHECK-NEXT:         NumberLiteral '2' {number}
// CHECK-NEXT:         NumberLiteral '0' {number}
// CHECK-NEXT:     CallExpr {void}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) foo {(number) -> void}
// CHECK-NEXT:       BinaryOperator '||' {number}
// CHECK-NEXT:       | value: 1
// CHECK-NEXT:         NumberLiteral '0' {number}
// CHECK-NEXT:         NumberLiteral '2' {number}
// CHECK-NEXT:     CallExpr {void}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) foo {(number) -> void}
// CHECK-NEXT:       BinaryOperator '||' {number}
// CHECK-NEXT:       | value: 1
// CHECK-NEXT:         NumberLiteral '2' {number}
// CHECK-NEXT:         NumberLiteral '3' {number}
// CHECK-NEXT:     CallExpr {void}
// CHECK-NEXT:       DeclRefExpr @({{.*}}) foo {(number) -> void}
// CHECK-NEXT:       BinaryOperator '||' {number}
// CHECK-NEXT:       | value: 0
// CHECK-NEXT:         NumberLiteral '0' {number}
// CHECK-NEXT:         NumberLiteral '0' {number}

fn main(): void {}
